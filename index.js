import{a as m,i as L,S as v,R as b}from"./assets/vendor-BddunmGi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const E=({_id:e,strArtist:t,strArtistThumb:n,genres:s,strBiographyEN:o})=>`
<li class="artist-card">
  <img src="${n}" alt="${t}" class="artist-photo" />
  <ul class="artist-genres">
    ${s.map(r=>`<li class="genre-tag">${r}</li>`).join("")}
  </ul>
  <h3 class="artist-name">${t}</h3>
  <p class="artist-info">${o}</p>
 <button class="learn-more-btn" data-artist-id="${e}">Learn More</button>
</li>
`;function p(e,t){if(!e||!e.length)return;const n=e.map(s=>E(s)).join("");t.insertAdjacentHTML("beforeend",n)}function w(e){e.classList.remove("hidden")}function g(e){e.classList.add("hidden")}m.defaults.baseURL="https://sound-wave.b.goit.study/api/";async function h(e,t){try{return(await m.get("/artists",{params:{limit:t,page:e}})).data}catch(n){return console.error(n),{artists:[],totalArtists:0}}}const u=8;let l=1;const c={cardsContainer:document.querySelector("#cards-container"),loadMoreBtn:document.querySelector(".loadMoreBtn")};async function B(){const{artists:e,totalArtists:t}=await h(l,u);p(e,c.cardsContainer),l*u<t?w(c.loadMoreBtn):g(c.loadMoreBtn)}B();async function y(){l++;try{const{artists:e,totalArtists:t,page:n}=await h(l,u);p(e,c.cardsContainer);const s=Math.ceil(t/u);l>=s&&(L.info({title:"",message:"We're sorry, but you've reached the end of search results.",position:"topRight",timeout:4e3,titleColor:"#fff",backgroundColor:" #09f",messageColor:"#fff"}),g(c.loadMoreBtn),c.loadMoreBtn.removeEventListener("click",y))}catch(e){console.log(e)}}c.loadMoreBtn.addEventListener("click",y);let i;async function M(){const e=await fetch("https://sound-wave.b.goit.study/api/feedbacks");if(!e.ok)throw new Error("Помилка завантаження");const t=await e.json();return console.log("Отримані відгуки:",t),t.data}function S(e){const t=document.getElementById("feedback-list");t.innerHTML="",e.forEach(({id:n,name:s,descr:o,rating:r})=>{const a=document.createElement("div");a.classList.add("swiper-slide"),a.dataset.id=n,a.innerHTML=`
        <div class="feedback-card">
            <h4>${s}</h4>
            <p>${o}</p>
            <div class="star-rating" data-rating="${Math.round(r)}"></div>
        </div>`,t.appendChild(a)})}function k(){document.querySelectorAll(".star-rating").forEach(t=>{const n=parseInt(t.dataset.rating,10);b({element:t,readOnly:!0,score:n,starType:"svg",starSize:20,hints:[]})})}function f(e,t){const n=document.getElementById("pagination-first"),s=document.getElementById("pagination-middle"),o=document.getElementById("pagination-last");n.classList.remove("active"),s.classList.remove("active"),o.classList.remove("active"),e===0?n.classList.add("active"):e===t-1?o.classList.add("active"):s.classList.add("active")}function A(e){i&&i.destroy(!0,!0),i=new v(".feedback-swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},slidesPerView:1,spaceBetween:20,loop:!1}),i.on("slideChange",()=>{f(i.activeIndex,e)}),f(i.activeIndex,e),document.getElementById("pagination-first").onclick=()=>i.slideTo(0),document.getElementById("pagination-last").onclick=()=>i.slideTo(e-1),document.getElementById("pagination-middle").onclick=()=>{e>2&&i.slideTo(1)},k()}document.addEventListener("DOMContentLoaded",()=>{M().then(e=>{S(e),A(e.length)}).catch(e=>console.error(e))});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".burger-btn"),t=document.querySelector(".mobile-menu"),n=document.querySelector(".mobile-close"),s=document.querySelector(".mobile-backdrop"),o=document.querySelector(".header-logo-link");let r=!1;const a=()=>{s.classList.remove("open"),t.classList.remove("open"),document.body.style.overflow=""};e.addEventListener("click",()=>{if(s.classList.add("open"),t.classList.add("open"),document.body.style.overflow="hidden",!r&&o){const d=o.cloneNode(!0);d.classList.add("mobile-logo"),t.prepend(d),r=!0}}),n.addEventListener("click",a),s.addEventListener("click",d=>{d.target===s&&a()}),t.querySelectorAll("a").forEach(d=>{d.addEventListener("click",a)})});
//# sourceMappingURL=index.js.map
