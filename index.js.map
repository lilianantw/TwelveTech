{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/api.js","../src/js/modal.js","../src/js/artists.js","../src/js/feedback.js","../src/js/mobile-menu.js"],"sourcesContent":["const loaderContainer = document.querySelector('.loader-container');\n\n// ===== Шаблон карточки артиста =====\nexport const createArtistsCartTemplate = ({\n  _id: id = '',\n  strArtist: name = 'No name',\n  strArtistThumb: photo = 'https://via.placeholder.com/300x300?text=No+Image',\n  genres = [],\n  strBiographyEN: shortInfo = 'No description.',\n}) => {\n  const genresMarkup = genres.length\n    ? genres.map(genre => `<li class=\"genre-tag\">${genre}</li>`).join('')\n    : '<li class=\"genre-tag\">No genres</li>';\n\n  const shortText = shortInfo.slice(0, 150) + (shortInfo.length > 150 ? '...' : '');\n\n  return `\n    <li class=\"artist-card\">\n      <img src=\"${photo}\" alt=\"${name}\" class=\"artist-photo\" loading=\"lazy\" />\n      <ul class=\"artist-genres\">${genresMarkup}</ul>\n      <h3 class=\"artist-name\">${name}</h3>\n      <p class=\"artist-info\">${shortText}</p>\n      <button class=\"learn-more-btn\" data-artist-id=\"${id}\">Learn More</button>\n    </li>\n  `;\n};\n\n// ===== Рендер артистов =====\nexport function renderArtists(artists, container) {\n  if (!Array.isArray(artists) || !artists.length) return;\n  const markup = artists.map(artist => createArtistsCartTemplate(artist)).join('');\n  container.insertAdjacentHTML('beforeend', markup);\n}\n\n// ===== Показываем кнопку =====\nexport function showLoadMoreButton(button) {\n  button.classList.remove('hidden');\n}\n\n// ===== Скрываем кнопку =====\nexport function hideLoadMoreButton(button) {\n  button.classList.add('hidden');\n}\n\n// ===== Показываем лоадер =====\nexport function showLoader() {\n  loaderContainer.classList.remove('hidden');\n}\n\n// ===== Скрываем лоадер =====\nexport function hideLoader() {\n  loaderContainer.classList.add('hidden');\n}\n\n","import axios from 'axios';\n\nconst API_BASE_URL = 'https://sound-wave.b.goit.study/api';\nexport const LIMIT = 8;\n\naxios.defaults.baseURL = API_BASE_URL;\n\nexport async function fetchArtists(page = 1, limit = 8) {\n  try {\n    const response = await axios.get('/artists', {\n      params: { page, limit },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\n      'Failed to fetch artists:',\n      error.message,\n      error.response?.status\n    );\n    return { artists: [], totalArtists: 0 };\n  }\n}\n\nexport async function fetchFeedbacks(limit = 10, page = 1) {\n  try {\n    const response = await axios.get('/feedbacks', {\n      params: { limit, page },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\n      'Error fetching feedback list:',\n      error.message,\n      error.response?.status\n    );\n    throw error;\n  }\n}\n\nexport async function submitFeedback(feedbackData) {\n  try {\n    const response = await axios.post('/feedbacks', feedbackData);\n    return response.data;\n  } catch (error) {\n    console.error(\n      'Error submitting feedback:',\n      error.message,\n      error.response?.status\n    );\n    throw error;\n  }\n}\n\nexport async function checkApiStatus() {\n  try {\n    const response = await axios.get('/feedbacks', {\n      params: { limit: 1, page: 1 },\n    });\n    return { status: 'online', message: 'API is accessible' };\n  } catch (error) {\n    console.error(\n      'API status: Offline, error:',\n      error.message,\n      error.response?.status\n    );\n    return { status: 'offline', message: 'API is not accessible' };\n  }\n}\n","document.addEventListener('DOMContentLoaded', () => {\n  const modalBackdrop = document.getElementById('backdrop');\n  if (!modalBackdrop) return;\n\n  const modalContent = modalBackdrop.querySelector('.modal-content');\n  const closeModalBtn = modalBackdrop.querySelector('.modal-close-btn');\n\n  if (!modalContent || !closeModalBtn) return;\n\n  function closeArtistModal() {\n    modalBackdrop.classList.remove('is-open');\n    document.body.classList.remove('no-scroll');\n    modalContent.innerHTML = '';\n    const albumsList = modalBackdrop.querySelector(\n      '#band-albums-list-container'\n    );\n    if (albumsList) albumsList.innerHTML = '';\n  }\n\n  closeModalBtn.addEventListener('click', closeArtistModal);\n  modalBackdrop.addEventListener('click', event => {\n    if (event.target === modalBackdrop) closeArtistModal();\n  });\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') closeArtistModal();\n  });\n\n  document.querySelector('.gallery')?.addEventListener('click', event => {\n    if (event.target.closest('.learn-more-btn')) {\n      const card = event.target.closest('.artist-card');\n      const artistId = card.dataset.id;\n      openArtistModal(artistId);\n    }\n  });\n});\n\nexport async function openArtistModal(artistId) {\n  const modalBackdrop = document.getElementById('backdrop');\n  const modalContent = modalBackdrop?.querySelector('.modal-content');\n  const bandAlbumsListContent =\n    modalBackdrop?.querySelector('.band-albums-list');\n\n  if (!modalBackdrop || !modalContent) return;\n\n  try {\n    document.body.classList.add('no-scroll');\n    modalBackdrop.classList.add('is-open');\n    modalContent.innerHTML = '<span class=\"loader\"></span>';\n\n    const response = await fetch(\n      `https://sound-wave.b.goit.study/api/artists/${artistId}/albums`\n    );\n    if (!response.ok) throw new Error('Failed to fetch artist details');\n\n    const data = await response.json();\n    modalContent.innerHTML = generateArtistMarkup(data);\n    bandAlbumsListContent.innerHTML = generateArtistAlbums(data);\n  } catch (err) {\n    modalContent.innerHTML = '<p>Error loading artist data.</p>';\n  }\n}\n\nfunction generateArtistMarkup(data) {\n  const {\n    strArtist: bandName,\n    strArtistThumb: bandThumbnail,\n    intFormedYear: formerYear,\n    intDiedYear: diedYear,\n    intMembers: members,\n    strBiographyEN: biography,\n    strCountry: foundationPlace,\n    strGender: sex,\n    genres,\n  } = data;\n\n const genresMarkup = genres.length\n  ? genres.map(genre => `<li class=\"genre-tag\">${genre}</li>`).join(\"\")\n   : \"\";\n  \n  const resulYear = diedYear === null ? 'Present' : diedYear;\n  return `\n  <h3 class=\"band-title\">${bandName}</h3>\n  \n  <div class=\"wrapper\">\n    <img class=\"band-thumbnail\" src=\"${bandThumbnail}\" alt=\"Band Thumbnail\">\n\n    <div>\n      <div class=\"modal-first-row\">\n        <div class=\"band-years modal-band-overview\">\n          <ul class=\"modal-band-element\">\n            <li class=\"modal-band-subtitle\">Years active</li>\n            <li class=\"modal-band-text\">${formerYear} - ${resulYear}</li>\n          </ul>\n        </div>\n        <div class=\"band-sex modal-band-overview\">\n          <ul class=\"modal-band-element\">\n            <li class=\"modal-band-subtitle\">Gender</li>\n            <li class=\"modal-band-text\">${sex}</li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=\"modal-second-row\">\n        <div class=\"band-members modal-band-overview\">\n          <ul class=\"modal-band-element\">\n            <li class=\"modal-band-subtitle\">Members</li>\n            <li class=\"modal-band-text\">${members}</li>\n          </ul>\n        </div>\n        <div class=\"band-country modal-band-overview\">\n          <ul class=\"modal-band-element\">\n            <li class=\"modal-band-subtitle\">Country</li>\n            <li class=\"modal-band-text\">${foundationPlace}</li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=\"band-biography modal-band-history\">\n        <ul class=\"modal-band-element\">\n          <li class=\"modal-band-subtitle\">Biography</li>\n          <li class=\"modal-band-text scrollable-biography\">${biography}</li>\n        </ul>\n      </div>\n    \n       <div class=\"band-genres-container\">\n        <ul class=\"band-genres-list\">${genresMarkup}</ul>\n      </div>\n    </div>\n  </div>\n  `;\n}\n\nfunction generateArtistAlbums(data) {\n  if (!data.albumsList || data.albumsList.length === 0) {\n    return '<li class=\"no-albums\">No albums found.</li>';\n  }\n\n  return data.albumsList\n    .map(album => {\n      let res = `\n          <li class=\"album-item\">\n            <p class=\"album-name\">${album.strAlbum}</p>\n        `;\n      \n      res += `\n          <ul class=\"tracks-list\">\n            <li class=\"track-info\">\n              <div class=\"track-name\">Track</div>\n              <div class=\"track-duration\">Time</div>\n              <div class=\"track-link\">Link</div>\n            </li>\n            ${generateAlbumTracks(album.tracks)}\n          </ul>\n        </li>\n      `;\n      return res;\n    }).join('');\n}\n\nfunction generateAlbumTracks(data) {\n  return data.map(track => {\n    const link = track.movie ? `\n    <a href=\"${track.movie}\" target=\"blank\">\n      <svg class=\"modal-youtube-icon\" width=\"24\" height=\"24\">\n        <use href=\"./img/symbol-defs.svg#icon-youtube\"></use>\n      </svg>\n    </a>\n    ` : '-';\n    const time = convertToSeconds(track.intDuration);\n    \n    return `\n    <li class=\"track-item\">\n      <div class=\"track-name\">${track.strTrack}</div>\n      <div class=\"track-duration\">${time}</div>\n      <div class=\"track-link\">${link}</div>\n    </li>`\n  }).join('')\n}\n\nfunction convertToSeconds(ms) {\n  const totalSeconds = Math.floor(ms / 1000);\n  const minutes = Math.floor(totalSeconds / 60);\n  const seconds = totalSeconds % 60;\n\n  const formattedSeconds = seconds.toString().padStart(2, '0');\n\n  return `${minutes}:${formattedSeconds}`;\n}","import {\n  renderArtists,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n  showLoader,\n  hideLoader,\n} from './render-function.js';\nimport { fetchArtists, LIMIT } from './api.js';\nimport { openArtistModal } from './modal.js';\nimport iziToast from 'izitoast';\n\nlet currentPage = 1;\n\nconst refs = {\n  cardsContainer: document.querySelector('#cards-container'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n};\n\n// ===== ІНІЦІАЛІЗАЦІЯ СТОРІНКИ =====\nasync function initArtists() {\n  try {\n    showLoader();\n\n    const { artists, totalArtists } = await fetchArtists(currentPage, LIMIT);\n    renderArtists(artists, refs.cardsContainer);\n\n    if (currentPage * LIMIT < totalArtists) {\n      showLoadMoreButton(refs.loadMoreBtn);\n    } else {\n      hideLoadMoreButton(refs.loadMoreBtn);\n    }\n  } catch (err) {\n    console.error(err);\n  } finally {\n    hideLoader();\n  }\n}\n\n// ===== ОПРАЦЮВАННЯ КЛІКУ \"ЗАВАНТАЖИТИ ЩЕ\" =====\nasync function onLoadMoreBtnClick(event) {\n  event.target.blur();\n  currentPage++;\n  showLoader();\n\n  try {\n    const { artists, totalArtists } = await fetchArtists(currentPage, LIMIT);\n    renderArtists(artists, refs.cardsContainer);\n\n    const firstNewCard = refs.cardsContainer.lastElementChild;\n    await new Promise(resolve => setTimeout(resolve, 100));\n    const cardHeight = firstNewCard.getBoundingClientRect().height;\n    window.scrollBy({ top: cardHeight * 1, behavior: 'smooth' });\n\n    const totalPages = Math.ceil(totalArtists / LIMIT);\n    if (currentPage >= totalPages) {\n      iziToast.info({\n        title: '',\n        message: 'Ви, передивились всіх артистів.',\n        position: 'topRight',\n        timeout: 4000,\n        titleColor: '#fff',\n        backgroundColor: '#764191',\n        messageColor: '#fff',\n      });\n      hideLoadMoreButton(refs.loadMoreBtn);\n      refs.loadMoreBtn.removeEventListener('click', onLoadMoreBtnClick);\n    }\n  } catch (err) {\n    console.error(err);\n  } finally {\n    hideLoader();\n  }\n}\n\n// ===== ОПРАЦЮВАННЯ КНОПКИ \"ДІЗНАТИСЬ БІЛЬШЕ\" =====\nfunction onArtistCardClick(event) {\n  const learnMoreBtn = event.target.closest('.learn-more-btn');\n  if (!learnMoreBtn) return;\n\n  const artistId = learnMoreBtn.dataset.artistId;\n  if (!artistId) return;\n\n  openArtistModal(artistId);\n}\n\ndocument.addEventListener('DOMContentLoaded', initArtists);\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\nrefs.cardsContainer.addEventListener('click', onArtistCardClick);\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport 'css-star-rating/css/star-rating.css';\nimport { fetchFeedbacks } from './api';\n\nlet swiper; \n\nconst swiperWrapper = document.querySelector('.swiper-wrapper');\nconst paginationContainer = document.querySelector('.feedback-pagination');\n\nasync function loadFeedbacks() {\n  try {\n    const response = await fetchFeedbacks(10, 1);\n    const feedbacks = response.data;\n\n    feedbacks.forEach(({ rating, descr, name }) => {\n      const slide = createFeedbackSlide({ rating, text: descr, user: name });\n      swiperWrapper.appendChild(slide);\n    });\n\n    initSwiper();\n  } catch (error) {\n    console.error('Oops...Error', error.message);\n  }\n}\n\nfunction createFeedbackSlide({ rating, text, user }) {\n  const slide = document.createElement('div');\n  slide.classList.add('swiper-slide');\n  const roundedRating = Math.round(rating);\n  slide.innerHTML = `\n    <div class=\"feedback-card\">\n      <div class=\"feedback-stars\">${renderStars(roundedRating)}</div>\n      <p class=\"feedback-text\">\"${text}\"</p>\n      <p class=\"feedback-user\">${user}</p>\n    </div>\n  `;\n  return slide;\n}\n\nfunction renderStars(count) {\n  const max = 5;\n  let starsHTML = '';\n  for (let i = 1; i <= max; i++) {\n    const starClass = i <= count ? 'star-filled' : 'star-outline';\n    starsHTML += `\n     <svg class=\"star-icon ${starClass}\" width=\"24\" height=\"24\">\n        <use href=\"img/symbol-defs.svg#${\n          i <= count ? 'icon-star-filled' : 'icon-star-outline'\n        }\"></use>\n      </svg>\n    `;\n  }\n  return starsHTML;\n}\n\nfunction initSwiper() {\n  swiper = new Swiper('.feedback-swiper', {\n    loop: false,\n    navigation: {\n      nextEl: '.feedback-button-next',\n      prevEl: '.feedback-button-prev',\n    },\n    grabCursor: true,\n    on: {\n      slideChange: updateCustomPagination,\n    },\n  });\n\n  renderCustomPagination(); \n  setupPaginationClicks();  \n}\n\nfunction renderCustomPagination() {\n  paginationContainer.innerHTML = '';\n\n  const total = swiper.slides.length;\n  const current = swiper.activeIndex;\n\n  if (total === 0) return;\n\n  const first = 0;\n  const middle = Math.floor(total / 2);\n  const last = total - 1;\n\n  const bulletData = [first, middle, last];\n\n  bulletData.forEach(index => {\n    const bullet = document.createElement('span');\n    bullet.classList.add('swiper-pagination-bullet');\n    bullet.setAttribute('data-slide-index', index);\n    if (current === index) {\n      bullet.classList.add('swiper-pagination-bullet-active');\n    }\n    paginationContainer.appendChild(bullet);\n  });\n}\n\nfunction updateCustomPagination() {\n  renderCustomPagination();\n}\n\nfunction setupPaginationClicks() {\n  paginationContainer.addEventListener('click', event => {\n    const bullet = event.target.closest('.swiper-pagination-bullet');\n    if (!bullet) return;\n    const index = parseInt(bullet.getAttribute('data-slide-index'), 10);\n    swiper.slideTo(index);\n  });\n}\n\nloadFeedbacks();\n","\ndocument.addEventListener('DOMContentLoaded', function () {\n  const burger = document.querySelector('.burger-btn');\n  const modalMenu = document.querySelector('.mobile-menu');\n  const closeBtn = document.querySelector('.mobile-close');\n  const backdrop = document.querySelector('.mobile-backdrop');\n  const headerLogo = document.querySelector('.header-logo-link');\n\n  let logoCloned = false;\n\n  const closeMenu = () => {\n    backdrop.classList.remove('open');\n    modalMenu.classList.remove('open');\n    document.body.style.overflow = '';\n  };\n\n  burger.addEventListener('click', () => {\n    backdrop.classList.add('open');\n    modalMenu.classList.add('open');\n    document.body.style.overflow = 'hidden';\n\n    if (!logoCloned && headerLogo) {\n      const logoClone = headerLogo.cloneNode(true);\n      logoClone.classList.add('mobile-logo');\n      modalMenu.prepend(logoClone);\n      logoCloned = true;\n    }\n  });\n\n  closeBtn.addEventListener('click', closeMenu);\n\n  backdrop.addEventListener('click', e => {\n    if (e.target === backdrop) closeMenu();\n  });\n\n  const mobileLinks = modalMenu.querySelectorAll('a');\n  mobileLinks.forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n});\n\n\n"],"names":["loaderContainer","createArtistsCartTemplate","id","name","photo","genres","shortInfo","genresMarkup","genre","shortText","renderArtists","artists","container","markup","artist","showLoadMoreButton","button","hideLoadMoreButton","showLoader","hideLoader","API_BASE_URL","LIMIT","axios","fetchArtists","page","limit","error","_a","fetchFeedbacks","modalBackdrop","modalContent","closeModalBtn","closeArtistModal","albumsList","event","artistId","openArtistModal","bandAlbumsListContent","response","data","generateArtistMarkup","generateArtistAlbums","bandName","bandThumbnail","formerYear","diedYear","members","biography","foundationPlace","sex","album","res","generateAlbumTracks","track","link","time","convertToSeconds","ms","totalSeconds","minutes","formattedSeconds","currentPage","refs","initArtists","totalArtists","err","onLoadMoreBtnClick","firstNewCard","resolve","cardHeight","totalPages","iziToast","onArtistCardClick","learnMoreBtn","swiper","swiperWrapper","paginationContainer","loadFeedbacks","rating","descr","slide","createFeedbackSlide","initSwiper","text","user","roundedRating","renderStars","count","starsHTML","i","starClass","Swiper","updateCustomPagination","renderCustomPagination","setupPaginationClicks","total","current","first","middle","last","index","bullet","burger","modalMenu","closeBtn","backdrop","headerLogo","logoCloned","closeMenu","logoClone","e"],"mappings":"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"}