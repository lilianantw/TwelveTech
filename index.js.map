{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/api.js","../src/js/artists.js","../src/js/feedback.js","../src/js/modal.js","../src/js/mobile-menu.js"],"sourcesContent":["const loaderContainer = document.querySelector('.loader-container');\n\n// ===== Шаблон карточки артиста =====\nexport const createArtistsCartTemplate = ({\n  _id: id = '',\n  strArtist: name = 'No name',\n  strArtistThumb: photo = 'https://via.placeholder.com/300x300?text=No+Image',\n  genres = [],\n  strBiographyEN: shortInfo = 'No description.',\n}) => {\n  const genresMarkup = genres.length\n    ? genres.map(genre => `<li class=\"genre-tag\">${genre}</li>`).join('')\n    : '<li class=\"genre-tag\">No genres</li>';\n\n  const shortText = shortInfo.slice(0, 150) + (shortInfo.length > 150 ? '...' : '');\n\n  return `\n    <li class=\"artist-card\">\n      <img src=\"${photo}\" alt=\"${name}\" class=\"artist-photo\" loading=\"lazy\" />\n      <ul class=\"artist-genres\">${genresMarkup}</ul>\n      <h3 class=\"artist-name\">${name}</h3>\n      <p class=\"artist-info\">${shortText}</p>\n      <button class=\"learn-more-btn\" data-artist-id=\"${id}\">Learn More</button>\n    </li>\n  `;\n};\n\n// ===== Рендер артистов =====\nexport function renderArtists(artists, container) {\n  if (!Array.isArray(artists) || !artists.length) return;\n  const markup = artists.map(artist => createArtistsCartTemplate(artist)).join('');\n  container.insertAdjacentHTML('beforeend', markup);\n}\n\n// ===== Показываем кнопку =====\nexport function showLoadMoreButton(button) {\n  button.classList.remove('hidden');\n}\n\n// ===== Скрываем кнопку =====\nexport function hideLoadMoreButton(button) {\n  button.classList.add('hidden');\n}\n\n// ===== Показываем лоадер =====\nexport function showLoader() {\n  loaderContainer.classList.remove('hidden');\n}\n\n// ===== Скрываем лоадер =====\nexport function hideLoader() {\n  loaderContainer.classList.add('hidden');\n}\n\n","import axios from 'axios';\n\nconst BASE_URL = 'https://sound-wave.b.goit.study/api/';\nconst LIMIT = 8;\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function fetchArtists(page = 1, limit = LIMIT) {\n  try {\n    const response = await axios.get('/artists', {\n      params: { page, limit },\n    });\n    console.log('Fetch returned:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Failed to fetch artists:', error);\n    return { artists: [], totalArtists: 0 };\n  }\n}\n\nexport async function fetchFeedbacks(page = 1, limit = 10) {\n  try {\n    const response = await axios.get('/feedbacks', {\n      params: { page, limit },\n    });\n\n    const result = response.data;\n\n    console.log(result);\n\n    if (Array.isArray(result.data)) {\n      return result.data;\n    } else {\n      console.error(result);\n      return [];\n    }\n  } catch (err) {\n    console.error(err);\n    return [];\n  }\n}\n\nfetchArtists().then(data => console.log(data));\n\nexport { LIMIT };\n","import {\n  renderArtists,\n  showLoadMoreButton,\n  hideLoadMoreButton,\n  showLoader,\n  hideLoader,\n} from './render-function.js';\nimport { fetchArtists, LIMIT } from './api.js';\nimport iziToast from 'izitoast';\n\nlet currentPage = 1;\n\nconst refs = {\n  cardsContainer: document.querySelector('#cards-container'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n};\n\n// ===== Инициализация страницы =====\nasync function initArtists() {\n  try {\n    showLoader();\n\n    const { artists, totalArtists } = await fetchArtists(currentPage, LIMIT);\n    renderArtists(artists, refs.cardsContainer);\n\n    if (currentPage * LIMIT < totalArtists) {\n      showLoadMoreButton(refs.loadMoreBtn);\n    } else {\n      hideLoadMoreButton(refs.loadMoreBtn);\n    }\n  } catch (err) {\n    console.error(err);\n  } finally {\n    hideLoader();\n  }\n}\n\n// ===== Обработка клика \"Загрузить ещё\" =====\nasync function onLoadMoreBtnClick() {\n  currentPage++;\n  showLoader();\n\n  try {\n    const { artists, totalArtists } = await fetchArtists(currentPage, LIMIT);\n    renderArtists(artists, refs.cardsContainer);\n\n    // Прокрутка до новых карточек\n    const firstNewCard = refs.cardsContainer.lastElementChild;\n    await new Promise(resolve => setTimeout(resolve, 100));\n    const cardHeight = firstNewCard.getBoundingClientRect().height;\n    window.scrollBy({ top: cardHeight * 1, behavior: 'smooth' });\n\n    // Проверка на конец списка\n    const totalPages = Math.ceil(totalArtists / LIMIT);\n    if (currentPage >= totalPages) {\n      iziToast.info({\n        title: '',\n        message: \"Вы просмотрели всех артистов.\",\n        position: 'topRight',\n        timeout: 4000,\n        titleColor: '#fff',\n        backgroundColor: '#764191',\n        messageColor: '#fff',\n      });\n      hideLoadMoreButton(refs.loadMoreBtn);\n      refs.loadMoreBtn.removeEventListener('click', onLoadMoreBtnClick);\n    }\n  } catch (err) {\n    console.error(err);\n  } finally {\n    hideLoader();\n  }\n}\n\n// ===== Обработка кнопки \"Узнать больше\" =====\nfunction onArtistCardClick(event) {\n  const learnMoreBtn = event.target.closest('.learn-more-btn');\n  if (!learnMoreBtn) return;\n\n  const artistId = learnMoreBtn.dataset.artistId;\n  if (!artistId) return;\n\n  // openArtistModal(artistId); // ← сюда подключить модалку, если будет нужно\n}\n\n// ===== Запуск при загрузке страницы =====\ndocument.addEventListener('DOMContentLoaded', initArtists);\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\nrefs.cardsContainer.addEventListener('click', onArtistCardClick);\n\n","import Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport Raty from 'raty-js';\n\nlet swiperInstance;\n\nasync function fetchFeedbacks() {\n  try {\n    const response = await fetch('https://sound-wave.b.goit.study/api/feedbacks');\n    if (!response.ok) {\n      throw new Error('Ошибка загрузки данных');\n    }\n    const data = await response.json();\n    console.log('Полученные отзывы:', data);\n    return data.data;\n  } catch (error) {\n    console.error('Ошибка при получении отзывов:', error);\n    throw error;\n  }\n}\n\nfunction renderSlides(feedbacks) {\n  const wrapper = document.getElementById('feedback-list');\n  if (!wrapper) {\n    console.error('Элемент #feedback-list не найден');\n    return;\n  }\n  wrapper.innerHTML = '';\n\n  feedbacks.forEach(({ id, name, descr, rating }) => {\n    const slide = document.createElement('div');\n    slide.classList.add('swiper-slide');\n    slide.dataset.id = id;\n\n    slide.innerHTML = `\n      <div class=\"feedback-card\">\n        <h4>${name}</h4>\n        <p>${descr}</p>\n        <div class=\"star-rating\" data-rating=\"${Math.round(rating) || 0}\"></div>\n      </div>`;\n\n    wrapper.appendChild(slide);\n  });\n}\n\nfunction initStarRatings() {\n  const starContainers = document.querySelectorAll('.star-rating');\n  console.log('Найдено star-rating элементов:', starContainers.length);\n  starContainers.forEach(container => {\n    const rating = parseInt(container.dataset.rating, 10) || 0;\n    console.log('Рейтинг для элемента:', rating);\n    new Raty(container, {\n      readOnly: true,\n      score: rating,\n      starType: 'svg',\n      starSize: 20,\n      hints: [],\n      callbacks: {\n        initialized: () => {\n          console.log('Raty инициализирован для контейнера:', container);\n          console.log('SVG элементы:', container.querySelectorAll('svg').length);\n        },\n      },\n    });\n  });\n}\n\nfunction updatePagination(activeIndex, slidesCount) {\n  const firstBtn = document.getElementById('pagination-first');\n  const middleBtn = document.getElementById('pagination-middle');\n  const lastBtn = document.getElementById('pagination-last');\n\n  if (!firstBtn || !middleBtn || !lastBtn) {\n    console.error('Один или несколько элементов пагинации не найдены');\n    return;\n  }\n\n  firstBtn.classList.remove('active');\n  middleBtn.classList.remove('active');\n  lastBtn.classList.remove('active');\n\n  if (activeIndex === 0) {\n    firstBtn.classList.add('active');\n  } else if (activeIndex === slidesCount - 1) {\n    lastBtn.classList.add('active');\n  } else {\n    middleBtn.classList.add('active');\n  }\n}\n\nfunction initSwiper(slidesCount) {\n  if (swiperInstance) {\n    swiperInstance.destroy(true, true);\n  }\n\n  const swiperContainer = document.querySelector('.feedback-swiper');\n  if (!swiperContainer) {\n    console.error('Контейнер .feedback-swiper не найден');\n    return;\n  }\n\n  swiperInstance = new Swiper('.feedback-swiper', {\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    slidesPerView: 1,\n    spaceBetween: 20,\n    loop: false,\n    on: {\n      init: function () {\n        console.log('Swiper инициализирован, activeIndex:', this.activeIndex);\n        initStarRatings();\n        updatePagination(this.activeIndex, slidesCount);\n      },\n      slideChange: function () {\n        console.log('Слайд изменён, activeIndex:', this.activeIndex);\n        initStarRatings();\n        updatePagination(this.activeIndex, slidesCount);\n      },\n    },\n  });\n\n  const firstBtn = document.getElementById('pagination-first');\n  const middleBtn = document.getElementById('pagination-middle');\n  const lastBtn = document.getElementById('pagination-last');\n  if (!firstBtn || !middleBtn || !lastBtn) {\n    console.error('Один или несколько элементов пагинации не найдены');\n    return;\n  }\n\n  firstBtn.onclick = () => {\n    console.log('Переход к первому слайду');\n    swiperInstance.slideTo(0);\n  };\n  middleBtn.onclick = () => {\n    if (slidesCount > 2) {\n      console.log('Переход к среднему слайду');\n      swiperInstance.slideTo(1);\n    }\n  };\n  lastBtn.onclick = () => {\n    console.log('Переход к последнему слайду');\n    swiperInstance.slideTo(slidesCount - 1);\n  };\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchFeedbacks()\n    .then(feedbacks => {\n      renderSlides(feedbacks);\n      initSwiper(feedbacks.length);\n    })\n    .catch(err => console.error('Ошибка инициализации:', err));\n});","document.addEventListener('DOMContentLoaded', () => {\n  const modalBackdrop = document.getElementById('artist-modal');\n  if (!modalBackdrop) return;\n\n  const modalContent = modalBackdrop.querySelector('.modal-content');\n  const closeModalBtn = modalBackdrop.querySelector('.close-btn');\n\n  if (!modalContent || !closeModalBtn) return;\n\n  function closeArtistModal() {\n    modalBackdrop.classList.add('is-hidden');\n    document.body.classList.remove('no-scroll');\n    modalContent.innerHTML = '';\n  }\n\n  closeModalBtn.addEventListener('click', closeArtistModal);\n  modalBackdrop.addEventListener('click', e => {\n    if (e.target === modalBackdrop) closeArtistModal();\n  });\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeArtistModal();\n  });\n\n  document.querySelector('.gallery')?.addEventListener('click', e => {\n    if (e.target.closest('.learn-more-btn')) {\n      const card = e.target.closest('.artist-card');\n      const artistId = card.dataset.id;\n      openArtistModal(artistId);\n    }\n  });\n});\n\nexport async function openArtistModal(artistId) {\n  const modalBackdrop = document.getElementById('artist-modal');\n  const modalContent = modalBackdrop?.querySelector('.modal-content');\n  if (!modalBackdrop || !modalContent) return;\n\n  try {\n    document.body.classList.add('no-scroll');\n    modalBackdrop.classList.remove('is-hidden');\n    modalContent.innerHTML = '<span class=\"loader\">Loading...</span>';\n\n    const response = await fetch(\n      `https://sound-wave.b.goit.study/api/artists/${artistId}`\n    );\n    if (!response.ok) throw new Error('Failed to fetch artist details');\n\n    const data = await response.json();\n    modalContent.innerHTML = generateArtistMarkup(data);\n  } catch (err) {\n    modalContent.innerHTML = '<p>Error loading artist data.</p>';\n  }\n}\n","\ndocument.addEventListener('DOMContentLoaded', function () {\n  const burger = document.querySelector('.burger-btn');\n  const modalMenu = document.querySelector('.mobile-menu');\n  const closeBtn = document.querySelector('.mobile-close');\n  const backdrop = document.querySelector('.mobile-backdrop');\n  const headerLogo = document.querySelector('.header-logo-link');\n\n  let logoCloned = false;\n\n  const closeMenu = () => {\n    backdrop.classList.remove('open');\n    modalMenu.classList.remove('open');\n    document.body.style.overflow = '';\n  };\n\n  burger.addEventListener('click', () => {\n    backdrop.classList.add('open');\n    modalMenu.classList.add('open');\n    document.body.style.overflow = 'hidden';\n\n    if (!logoCloned && headerLogo) {\n      const logoClone = headerLogo.cloneNode(true);\n      logoClone.classList.add('mobile-logo');\n      modalMenu.prepend(logoClone);\n      logoCloned = true;\n    }\n  });\n\n  closeBtn.addEventListener('click', closeMenu);\n\n  backdrop.addEventListener('click', e => {\n    if (e.target === backdrop) closeMenu();\n  });\n\n  const mobileLinks = modalMenu.querySelectorAll('a');\n  mobileLinks.forEach(link => {\n    link.addEventListener('click', closeMenu);\n  });\n});"],"names":["loaderContainer","createArtistsCartTemplate","id","name","photo","genres","shortInfo","genresMarkup","genre","shortText","renderArtists","artists","container","markup","artist","showLoadMoreButton","button","hideLoadMoreButton","showLoader","hideLoader","BASE_URL","LIMIT","axios","fetchArtists","page","limit","response","error","data","currentPage","refs","initArtists","totalArtists","err","onLoadMoreBtnClick","firstNewCard","resolve","cardHeight","totalPages","iziToast","onArtistCardClick","event","learnMoreBtn","swiperInstance","fetchFeedbacks","renderSlides","feedbacks","wrapper","descr","rating","slide","initStarRatings","starContainers","Raty","updatePagination","activeIndex","slidesCount","firstBtn","middleBtn","lastBtn","initSwiper","Swiper","modalBackdrop","modalContent","closeModalBtn","closeArtistModal","e","_a","artistId","openArtistModal","burger","modalMenu","closeBtn","backdrop","headerLogo","logoCloned","closeMenu","logoClone","link"],"mappings":"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"}